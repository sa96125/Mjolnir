datasource db {
  provider = "postgresql"
  url = env("VITE_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native"]
}

model User {
  uid       String   @id @default(cuid())
  createdAt DateTime @default(now())
  email     String   @unique
  password  String
  name      String?
}

model Celebrity {
  id          Int         @id @default(autoincrement())
  createdAt   DateTime    @default(now())
  thumbnail   String?
  name        String?
  title       String
  description String
  platfomes   Platform[]
  tags        Tag[]
}

model Platform {
  id           Int         @id @default(autoincrement())
  celebrity    Celebrity   @relation(fields: [celebrityId], references: [id])
  celebrityId  Int  
  name         String
}

model Tag {
  id           Int         @id @default(autoincrement())
  celebrity    Celebrity   @relation(fields: [celebrityId], references: [id])
  celebrityId  Int  
  name         String
}

// model PlatfomesOnCelebrities {
//   celebrity       Celebrity     @relation(fields: [celebrityId], references: [id])
//   celebrityId     Int 
//   platform        Platform      @relation(fields: [platformId], references: [id])
//   platformId      Int
//   assignedAt      DateTime      @default(now())
//   assignedBy      String

//   @@id([celebrityId, platformId])
// }

// model TagsOnCelebrities {
//   celebrity       Celebrity     @relation(fields: [celebrityId], references: [id])
//   celebrityId     Int 
//   tag             Tag           @relation(fields: [tagId], references: [id])
//   tagId           Int
//   assignedAt      DateTime      @default(now())
//   assignedBy      String

//   @@id([celebrityId, tagId])
// }

